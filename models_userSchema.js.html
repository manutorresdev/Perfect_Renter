<!DOCTYPE html>
<html lang="en">
<head>
    
    <meta charset="utf-8">
    <title>models/userSchema.js - Documentation</title>
    
    
    <script src="scripts/prettify/prettify.js"></script>
    <script src="scripts/prettify/lang-css.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc.css">
    <script src="scripts/nav.js" defer></script>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<body>

<input type="checkbox" id="nav-trigger" class="nav-trigger" />
<label for="nav-trigger" class="navicon-button x">
  <div class="navicon"></div>
</label>

<label for="nav-trigger" class="overlay"></label>

<nav >
    
    <h2><a href="index.html">Home</a></h2><h3>Modules</h3><ul><li><a href="module-Database.html">Database</a></li><li></li><li><a href="module-Entries.html">Entries</a><ul class='methods'><li data-type='method'><a href="module-Entries.html#~acceptBooking">acceptBooking</a></li><li data-type='method'><a href="module-Entries.html#~addPropertyPhoto">addPropertyPhoto</a></li><li data-type='method'><a href="module-Entries.html#~bookProperty">bookProperty</a></li><li data-type='method'><a href="module-Entries.html#~contactProperty">contactProperty</a></li><li data-type='method'><a href="module-Entries.html#~deleteProperty">deleteProperty</a></li><li data-type='method'><a href="module-Entries.html#~deletePropertyPhoto">deletePropertyPhoto</a></li><li data-type='method'><a href="module-Entries.html#~editBooking">editBooking</a></li><li data-type='method'><a href="module-Entries.html#~editProperty">editProperty</a></li><li data-type='method'><a href="module-Entries.html#~getBookings">getBookings</a></li><li data-type='method'><a href="module-Entries.html#~getLocations">getLocations</a></li><li data-type='method'><a href="module-Entries.html#~getPhotos">getPhotos</a></li><li data-type='method'><a href="module-Entries.html#~getProperty">getProperty</a></li><li data-type='method'><a href="module-Entries.html#~listProperties">listProperties</a></li><li data-type='method'><a href="module-Entries.html#~listPropertyVotes">listPropertyVotes</a></li><li data-type='method'><a href="module-Entries.html#~newProperty">newProperty</a></li><li data-type='method'><a href="module-Entries.html#~newVote">newVote</a></li></ul></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li><a href="module-Global.html">Global</a><ul class='methods'><li data-type='method'><a href="module-Global.html#~contactUs">contactUs</a></li><li data-type='method'><a href="module-Global.html#~getPhoto">getPhoto</a></li></ul></li><li></li><li><a href="module-Helpers.html">Helpers</a><ul class='methods'><li data-type='method'><a href="module-Helpers.html#~authUser">authUser</a></li><li data-type='method'><a href="module-Helpers.html#~canEdit">canEdit</a></li><li data-type='method'><a href="module-Helpers.html#~deletePhoto">deletePhoto</a></li><li data-type='method'><a href="module-Helpers.html#~formatDate">formatDate</a></li><li data-type='method'><a href="module-Helpers.html#~generateRandomString">generateRandomString</a></li><li data-type='method'><a href="module-Helpers.html#~getRandomValue">getRandomValue</a></li><li data-type='method'><a href="module-Helpers.html#~propertyExist">propertyExist</a></li><li data-type='method'><a href="module-Helpers.html#~savePhoto">savePhoto</a></li><li data-type='method'><a href="module-Helpers.html#~sendMail">sendMail</a></li><li data-type='method'><a href="module-Helpers.html#~userExists">userExists</a></li><li data-type='method'><a href="module-Helpers.html#~validate">validate</a></li></ul></li><li></li><li></li><li></li><li></li><li><a href="module-Routes.html">Routes</a></li><li><a href="module-Schemas.html">Schemas</a></li><li></li><li></li><li><a href="module-Users.html">Users</a><ul class='methods'><li data-type='method'><a href="module-Users.html#~contactUser">contactUser</a></li><li data-type='method'><a href="module-Users.html#~deleteUser">deleteUser</a></li><li data-type='method'><a href="module-Users.html#~editUser">editUser</a></li><li data-type='method'><a href="module-Users.html#~editUserPass">editUserPass</a></li><li data-type='method'><a href="module-Users.html#~getUser">getUser</a></li><li data-type='method'><a href="module-Users.html#~listBookedProperties">listBookedProperties</a></li><li data-type='method'><a href="module-Users.html#~listUsers">listUsers</a></li><li data-type='method'><a href="module-Users.html#~listUserVotes">listUserVotes</a></li><li data-type='method'><a href="module-Users.html#~loginUser">loginUser</a></li><li data-type='method'><a href="module-Users.html#~newUser">newUser</a></li><li data-type='method'><a href="module-Users.html#~passUserRecover">passUserRecover</a></li><li data-type='method'><a href="module-Users.html#~recoverUserPass">recoverUserPass</a></li><li data-type='method'><a href="module-Users.html#~validateUser">validateUser</a></li></ul></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li></ul>
</nav>

<div id="main">
    
    <h1 class="page-title">models/userSchema.js</h1>
    

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>const Joi = require('joi');
/**
 * @module Schemas
 */
/**
 * Esquema de usuario para validación de datos.
 * @name UserSchema
 */
const userSchema = Joi.object().keys({
  email: Joi.string()
    .required()
    .email()
    .error((errors) => {
      if (
        errors[0].code === 'any.required' ||
        errors[0].code === 'string.empty'
      )
        return new Error('Se requiere un email');

      return new Error('El email no es válido.');
    }),

  password: Joi.string()
    .required()
    .min(8)
    .max(100)
    .error((errors) => {
      switch (errors[0].code) {
        case 'any.required':
          return new Error('Se requiere una contraseña');

        case 'string.empty':
          return new Error('Se requiere una contraseña');

        default:
          return new Error('La contraseña debe tener entre 8 y 100 caracteres');
      }
    }),
  tel: Joi.string()
    .min(9)
    .pattern(/^\s?\+?\s?([0-9][0-9\s]*){9,}$/)
    .error((errors) => {
      return new Error('El teléfono no es válido.');
    }),
  name: Joi.string()
    .required()
    .min(3)
    .max(30)
    .error((errors) => {
      if (
        errors[0].code === 'any.required' ||
        errors[0].code === 'string.empty'
      )
        return new Error('Se requiere un nombre para el usuario');

      return new Error('El nombre no es válido.');
    }),
  lastName: Joi.string()
    .required()
    .min(3)
    .max(30)
    .error((errors) => {
      if (
        errors[0].code === 'any.required' ||
        errors[0].code === 'string.empty'
      )
        return new Error('Se requiere un apellido para el usuario');

      return new Error('El apellido no es válido.');
    }),
  bio: Joi.string().allow('').min(0).max(255),
  birthDate: Joi.date().required(),
  city: Joi.string()
    .min(0)
    .max(50)
    .required()
    .error((errors) => {
      if (
        errors[0].code === 'any.required' ||
        errors[0].code === 'string.empty'
      )
        return new Error('Debes escribir una ciudad.');

      return new Error('La ciudad no es válida.');
    }),
});

const editUserSchema = Joi.object().keys({
  email: Joi.string()
    .email()
    .error((errors) => {
      return new Error('El email no es válido.');
    }),

  password: Joi.string()
    .min(8)
    .max(100)
    .error((errors) => {
      switch (errors[0].code) {
        case 'any.required':
          return new Error('Se requiere una contraseña');

        case 'string.empty':
          return new Error('Se requiere una contraseña');

        default:
          return new Error('La contraseña debe tener entre 8 y 100 caracteres');
      }
    }),
  tel: Joi.string()
    .min(9)
    .pattern(/^\s?\+?\s?([0-9][0-9\s]*){9,}$/)
    .error((errors) => {
      return new Error('El teléfono no es válido.');
    }),
  name: Joi.string()

    .min(3)
    .max(30)
    .error((errors) => {
      if (
        errors[0].code === 'any.required' ||
        errors[0].code === 'string.empty'
      )
        return new Error('Se requiere un nombre para el usuario');

      return new Error('El nombre no es válido.');
    }),
  lastName: Joi.string()

    .min(3)
    .max(30)
    .error((errors) => {
      if (
        errors[0].code === 'any.required' ||
        errors[0].code === 'string.empty'
      )
        return new Error('Se requiere un apellido para el usuario');

      return new Error('El apellido no es válido.');
    }),
  bio: Joi.string().min(0).max(255),
  birthDate: Joi.date(),
  city: Joi.string().min(0).max(50),
});

module.exports = { userSchema, editUserSchema };
</code></pre>
        </article>
    </section>




    
    
</div>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.6.7</a> on Wed Nov 10 2021 17:12:09 GMT+0100 (Central European Standard Time) using the <a href="https://github.com/clenemt/docdash">docdash</a> theme.
</footer>

<script>prettyPrint();</script>
<script src="scripts/polyfill.js"></script>
<script src="scripts/linenumber.js"></script>



</body>
</html>
